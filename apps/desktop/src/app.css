@import 'tailwindcss';
@import '@xyflow/svelte/dist/style.css';

/* Fallback defaults (Indigo Craft dark) — overridden by theme engine at runtime */
:root {
  --color-bg: #0f111a;
  --color-surface: #1a1e2e;
  --color-surface-hover: #252a3a;
  --color-border: #2d3348;
  --color-text: #e2e8f0;
  --color-text-muted: #8892a8;
  --color-accent: #818cf8;
  --color-accent-hover: #6366f1;
  --color-shadow: rgba(0, 0, 0, 0.4);
  --scrollbar-thumb: rgba(129, 140, 248, 0.15);
  --scrollbar-thumb-hover: rgba(129, 140, 248, 0.3);
}

html, body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  background: var(--color-bg);
  color: var(--color-text);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
}

/* Custom scrollbars — slim, VS Code-style */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) transparent;
}
*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
*::-webkit-scrollbar-track {
  background: transparent;
}
*::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 4px;
}
*::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-hover);
}
*::-webkit-scrollbar-corner {
  background: transparent;
}

/* Edge label styling */
.svelte-flow__edge-text {
  font-size: 10px;
  fill: var(--color-text-muted);
}

.svelte-flow__edge-textbg {
  fill: var(--color-surface);
  stroke: var(--color-border);
  stroke-width: 0.5;
  rx: 3;
}

/* Handle highlighting during connection drag */
.svelte-flow .handle-compatible {
  background-color: #22c55e !important;
  box-shadow: 0 0 6px 2px rgba(34, 197, 94, 0.5);
  transform: scale(1.4);
  transition: all 0.15s ease;
}

.svelte-flow .handle-incompatible {
  opacity: 0.3;
  transition: opacity 0.15s ease;
}

/* Bigger resize corner handles (default 5px) */
.svelte-flow__resize-control.handle {
  width: 10px;
  height: 10px;
  border-radius: 2px;
}

/* Wider resize edge line hit areas (default 1px) */
.svelte-flow__resize-control.line {
  border-color: transparent;
  border-width: 3px;
}

/* Bigger connection handles (default 6px) */
.svelte-flow__handle {
  width: 10px;
  height: 10px;
}
